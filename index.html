<!DOCTYPE html>
<html lang="ko">

<head>
  <meta charset="UTF-8">
  <!-- <meta name="viewport" content="width=1024, height=768, initial-scale=1.0"> -->
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <link href="./css/output.css" rel="stylesheet">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Konkhmer+Sleokchher&display=swap" rel="stylesheet">
</head>


<style>
  /* Tailwind 기반으로 화살표 제거 */
  input[type="number"]::-webkit-inner-spin-button,
  input[type="number"]::-webkit-outer-spin-button {
    -webkit-appearance: none; /* Chrome, Safari, Edge */
    margin: 0; /* 기본 여백 제거 */
  }
    input[type="number"] {
    -moz-appearance: textfield; /* Firefox */
  }
  </style>

<body class="bg-cover min-h-screen w-screen isolate bg-background relative flex flex-col h-full">
  <header id=topHeader
    class="flex justify-between items-center px-4 py-4 w-full bg-reonaiBlack2 border-b-2 border-reonaiBlack3">
    <div>
      <a href="https://www.reonai.net" target="_blank">
        <img src="./images/logo.png" class="w-32 cursor-pointer hover:opacity-80 transition" alt="Company Logo" />
      </a>
    </div>
  
    <div id="LoginSection" class="">
      <div id="LoginFormDiv" class="flex gap-2">

        <!-- <div id="headerBtn" style="display : none" >
          <button class="bg-reonaiWhite text-reonaiRed" onclick="showPanel('mainPanel')">maidnPanel</button>
          <button class="bg-reonaiWhite text-reonaiRed" onclick="showPanel('roastInfoPanel')">roastInfoPanel</button>
          <button class="bg-reonaiWhite text-reonaiRed"  onclick="showPanel('recipePanel')">recipePanel</button>    
          <button class="bg-reonaiWhite text-reonaiRed"  onclick="showPanel('roastPanel')">roastPanel</button>
        </div> -->

        <button id="mainConnectBluetoothBtn" class="bg-primary text-reonaiWhite" onclick="connectBluetooth()">
          <img src="./images/bluetooth-svgrepo-com.svg" width="24" class=" text-white" />
        </button>
        <form id="loginForm" class="flex gap-2">
          <input class="bg-white" type="email" id="email" placeholder="아이디 입력" name="email" autofocus required>
          <input class="bg-white" type="password" id="password" placeholder="비밀번호 8자~20자" name="password"
            autofocusrequired>






          <button id="loginUserName" class="bg-reonaiWhite text-reonaiRed" style="display: none;"
            style="display: none;"></button>
          <button id="loginBtn" class="bg-primary text-white" type="submit">로그인</button>
          <button id="signIn" class="bg-primary text-white" type="submit" onclick="showPanel('signInPanel')" >회원가입</button>

          <button id="logoutBtn" class="bg-primary text-white" style="display: none;">로그아웃</button>
          <p id="responseMessage" class="text-white"></p>

        </form>
      </div>
    </div>

  </header>

</div>



  <header style="display : none" class="absolute bottom-0">
    <button class="bg-transparent text-fontColor" onclick="showPanel('mainPanel')">mainPanel</button>
    <button class="bg-transparent text-fontColor" onclick="showPanel('roastInfoPanel')">roastInfoPanel</button>
    <button class="bg-transparent text-fontColor" onclick="showPanel('recipePanel')">recipePanel</button>
    <button class="bg-transparent text-fontColor" onclick="showPanel('puttingCountPanel')">puttingCountPanel</button>
    <button class="bg-transparent text-fontColor" onclick="showPanel('roastPanel')">roastPanel</button>
    <button class="bg-transparent text-fontColor" onclick="showPanel('easyRoastInfoPanel')">easyRoastInfoPanel</button>
    <button class="bg-transparent text-fontColor" onclick="showPanel('easyRoastPanel')">easyRoastPanel</button>
    <button class="bg-transparent text-fontColor" onclick="showPanel('settingPanel')">settingPanel</button>
    <button class="bg-transparent text-fontColor" onclick="showPanel('signInPanel')">signInPanel</button>
  </header>

  <div class="fixed bottom-4 right-4">
    <button class="bg-white px-2"
      onclick="goToMain()">go
      to main</button>
  </div>



  
  <div class="flex min-h-full">
    <aside id="sideHeader"
      class="flex flex-col gap-2 font-base bg-reonaiBlack1 min-h-[calc(100vh-80px)] border-r-2 border-black">

      <button style="display: none;"     class="text-fontColor"
        onclick="if(isCoolDownRunning) { alert('온도가 높습니다.'); } else {checkBluetoothConnectionForeasyRoasting(),autoStartHeatingMode(),autoRoastingFlagOn()}">자동
        로스팅</button>
      <button class="text-fontColor"
        onclick="if(isCoolDownRunning) { alert('온도가 높습니다.'); } else {checkBluetoothConnectionForManualRoasting(),heatingMode(),autoRoastingFlagOff()}">수동
        로스팅</button>
      <button class="text-fontColor" onclick="checkBluetoothConnectionForRecipePanel()">레시피</button>
      <!-- <button class="text-white" onclick="showPanel('settingPanel'), headerDisplayNone()">설정</button> -->
    </aside>





    <!--mainPanel!!-->
    <div id="mainPanel" class="w-full min-h-[calc(100vh-80px)] bg-contain bg-no-repeat bg-center p-16">
    

<div class="sliderContainer space-y-4 flex flex-col">
  <iframe 
  width="560" 
  height="315" 
  src="https://www.youtube.com/embed/ZQKamLGRyD8"
  title="YouTube video player" 
  frameborder="0" 
  allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
  allowfullscreen>
</iframe>

<iframe 
width="560" 
height="315" 
src="https://www.youtube.com/embed/D88QPtTam5I"
title="YouTube video player" 
frameborder="0" 
allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
allowfullscreen>
</iframe>
      <!-- <img src=" /images/hero.png" class="w-full h-full" /> -->
    </div>
  </div>

  

    <div id="roastInfoPanel" style="display: none;">

      <div class="panelBox overflow-y-scroll">
        <h2 class="text-[32px]">Manual Roasting</h2>
        <div class="flex justify-start items-center h-full gap-2">
          <div class="infoBox">
            <div class="infoBox-title">예열</div>
            <div class="infoBox-content">
              <span class="" id="preheatPercentDisplay">0%</span>
            </div>
          </div>
          <div class="infoBox">
            <div class="infoBox-title">Drum Temp</div>
            <div class="infoBox-content">
              <span class="" id="infoTemp1Value">-<span>°C</span></span>
            </div>
          </div>
          <div class="infoBox">
            <div class="infoBox-title">Heater Temp</div>
            <div class="infoBox-content">
              <span class="" id="infoTemp2Value">-<span>°C</span></span>
            </div>
          </div>
        </div>
        <div id="roastInfoDiv">
          <section id="roastInfoSection">
            <h1 class="text-[32px]">Info</h1>
            <div id="roastInfoInputDiv" class="flex gap-2 items-center">
              <input id="roastInfoRecipeName" class="white-round-box" placeholder="Recipe Name" autofocus required>
              <input id="roastInfoBeanName" class="white-round-box" placeholder="Bean Name" autofocus required>
              <select name="roastInfoInputAmount" id="roastInfoInputAmount" class="white-round-box w-[200px]">
                <option disabled hidden selected>Input Amount</option>
                <option value="50">50g</option>
                <option value="60">60g</option>
                <option value="70">70g</option>
                <option value="80">80g</option>
                <option value="90">90g</option>
                <option value="100">100g</option>
                <option value="110">110g</option>
                <option value="120">120g</option>
                <option value="130">130g</option>
                <option value="140">140g</option>
                <option value="150">150g</option>
                <option value="160">160g</option>
                <option value="170">170g</option>∂
                <option value="180">180g</option>
                <option value="190">190g</option>
                <option value="200">200g</option>
              </select>
<!-- 
              <select name="roastInfoStage" id="roastInfoStageSelect" class="white-round-box w-[200px]">
                <option disabled hidden selected>Stage</option>
                <option value="Light">Light</option>
                <option value="Cinnamon">Cinnamon</option>
                <option value="Medium">Medium</option>
                <option value="High">High</option>
                <option value="Cit">City</option>
                <option value="Full">Full</option>
                <option value="French">French</option>
                <option value="Italian">Italian</option>
              </select> -->
              <!-- <select name="roastInfoPreheatTemp" id="roastInfoPreheatTempSelect">
<option disabled hidden selected>Preheat Temp</option>
<option value="100">100°C</option>
<option value="150">150°C</option>
<option value="200">200°C</option>
</select> -->

            </div>
            <div id="roastInfoPowerDiv">

                        <h1 class="text-[32px]">Power</h1>

              <div style="display: flex;" class="gap-2">
                <div id="roastInfoPowerFan1SelectDiv" class="w-[100px]">
                  <h4>FAN1</h4>
                  <select name="roastInfoPowerFan1" id="roastInfoPowerFan1Select" class="white-round-box !w-[100px]">

            
                    <option value="25">25</option>
                    <option value="30">30</option>
                    <option value="35">35</option>
                    <option value="40">40</option>
                    <option value="45">45</option>
                    <option value="50">50</option>
                    <option value="55">55</option>
                    <option value="60">60</option>
                    <option value="65">65</option>
                    <option value="70">70</option>
                    <option value="75">75</option>
                    <option value="80">80</option>
                    <option value="85">85</option>
                    <option value="90">90</option>
                    <option value="95">95</option>
                    <option value="100">100</option>
                  </select>
                </div>
                <div id="roastInfoPowerFan2SelectDiv" class="w-[100px]">
                  <h4>FAN2</h4>
                  <select name="roastInfoPowerFan2" id="roastInfoPowerFan2Select" class="white-round-box !w-[100px]">

          
                    <option value="2.5">2.5</option>
                    <option value="3">3</option>
                    <option value="3.5">3.5</option>
                    <option value="4">4</option>
                    <option value="4.5">4.5</option>
                    <option value="5">5</option>
                    <option value="5.5">5.5</option>
                    <option value="6">6</option>
                    <option value="6.5">6.5</option>
                    <option value="7">7</option>
                    <option value="7.5">7.5</option>
                    <option value="8">8</option>
                    <option value="8.5">8.5</option>
                    <option value="9">9</option>
                    <option value="9.5">9.5</option>
                    <option value="10">10</option>
                    <option value="10.5">10.5</option>
                    <option value="11">11</option>
                    <option value="11.5">11.5</option>
                    <option value="12">12</option>
                    <option value="12.5">12.5</option>
                  </select>
                </div>
                <div id="roastInfoPowerHeaterSelectDiv" class="w-[100px]">
                  <h4>Heater</h4>
                  <select name="roastInfoPowerHeater" id="roastInfoPowerHeaterSelect"
                    class="white-round-box !w-[100px]">
                    <option value="0">0</option>
                    <option value="5">5</option>
                    <option value="10">10</option>
                    <option value="15">15</option>
                    <option value="20">20</option>
                    <option value="25">25</option>
                    <option value="30">30</option>
                    <option value="35">35</option>
                    <option value="40">40</option>
                    <option value="45">45</option>
                    <option value="50">50</option>
                    <option value="55">55</option>
                    <option value="60">60</option>
                    <option value="65">65</option>
                    <option value="70">70</option>
                    <option value="75">75</option>
                    <option value="80">80</option>
                    <option value="85">85</option>
                    <option value="90">90</option>
                    <option value="95">95</option>
                    <option value="100">100</option>
                  </select>
                </div>
              </div>
            </div>
          </section>
        </div>
        <section id="roastInfoSection2" class="flex flex-col w-full h-full gap-8">
          <button id="referenceFinderBtn" onclick="showPanel('recipePanel')" class="white-round-box rounded-sm">
            Reference Finder
          </button>
        
          <!-- <h1 class="text-[32px] ">MEMO</h1>
          <textarea id="memoTextArea" placeholder="메모를 입력해주세요" class="bg-gray w-full h-[184px]"></textarea> -->
          <div class="flex gap-8">
            <button id="roastInfoStartBtn" class="white-round-box rounded-sm text-reonaiRed"
              onclick="if (document.getElementById('preheatPercentDisplay').innerText !== '100%') { alert('예열이 완료되지 않았습니다'); } else { showPanel('puttingCountPanel'); roastInfoStart(); }">로스팅
              시작</button>
            
              <button style="display: none;"  id="roastInfoStartBtn" class="white-round-box rounded-sm text-reonaiRed"
              onclick="showPanel('puttingCountPanel'); roastInfoStart();">예열 생략 로스팅 
              시작</button>
            
            <!-- <button class="white-round-box rounded-sm" id="roastInfoStartBtn"
              onclick="showPanel('puttingCountPanel'); roastInfoStart();">로스팅로로 시작</button> -->
          </div>
        </section>
        <!-- <div class="flex gap-8">
          <button class="white-round-box rounded-sm" id="roastInfoStartBtn" onclick="showPanel('roastContainer')"
            style="display: none;">로스팅 패널</button>
          <button class="white-round-box rounded-sm" onclick="handleCoolDown()" class="control-btn"
            id="roastInfoStartBtn">쿨다운</button>
          <button class="white-round-box rounded-sm"
            onclick="showPanel('mainPanel'),stopRecordingcharts(),resetChartsAll(),handleOutputZero(),forceCoolingMode()"
            class="control-btn" id="goToMainForAuto">메인</button>
        </div> -->
      </div>

    </div>

    <div id="recipePanel" class="hidden p-6">
      <div class="panelBox container mx-auto space-y-6">
        <!-- Section Container -->
        <section id="recipeContainerSection" class="grid grid-cols-2 gap-8 items-start">
          <!-- My Record Section -->
          <section id="myRecordList" class="flex flex-col items-center">
            <span class="text-2xl font-bold mb-4">My Record</span>
            <div id="getMyRecordsResult" class="record-list border-2 border-black text-fontColor h-32 overflow-y-auto w-full rounded-lg p-2">
              <!-- Record Items Here -->
            </div>
          </section>
    
          <!-- Pilot Record Section -->
          <section id="pilotRecordList" class="flex flex-col items-center">
            <span class="text-2xl font-bold mb-4">Pilot Record</span>
            <div id="getPilotresult" class="record-list border-2 border-black text-fontColor h-32 overflow-y-auto w-full rounded-lg p-2">
              <!-- Record Items Here -->
            </div>
          </section>
        </section>
    
        <!-- Selected Record Section -->
        <div id="selectedRecord" class="flex flex-col gap-4 p-4 bg-gray-50">
          <!-- 가로로 정렬 및 간격 추가 -->
          <div class="flex gap-x-8">
            <div class="infoBox">
              <div class="infoBox-title font-semibold"><strong>ID:</strong></div>
              <div class="infoBox-content"> <span id="recordId">-</span></div>
            </div>
            <div class="infoBox">
              <div class="font-semibold"><strong>Title:</strong></div>
              <div> <span id="recordTitle">-</span></div>
            </div>
            <div class="infoBox">
              <div class="font-semibold"><strong>Date:</strong></div>
              <div> <span id="recordDate">-</span></div>
            </div>
            <div class="infoBox">
              <div class="font-semibold"><strong>Time:</strong></div>
              <div> <span id="recordTime">-</span></div>
            </div>
          </div>
        </div>
        
        

    
        <!-- Chart Section -->
        <div id="chartContainerRecipe" class="w-full">
          <div id="chartdivRecipe" class="h-3/5 border p-4 rounded-lg"></div>
          <div id="outputChartdivRecipe" class="h-2/5 border p-4 rounded-lg mt-4"></div>
        </div>
    
        <!-- Button Section -->
        <div id="buttonContainer" class="flex  gap-4 items-center">
          <button class="control-btn white-round-box px-6 py-2 border rounded-lg hover:bg-gray-100 transition" id="recipeInfoResetBtn"
          onclick="resetRecipeChart();">
          선택 취소
          </button>
          <button
            class="control-btn white-round-box px-6 py-2 border rounded-lg hover:bg-gray-100 transition"
            id="recipeBtn"
            onclick="showPanel('roastInfoPanel');">
            뒤로가기
          </button>
        </div>
      </div>
      </div>
  

    <div id="puttingCountPanel" style="display: none;" class="w-full bg-reonaiBlack1 align-items: center">
      <div class="panelBox bg-gray-900 p-6 rounded-lg w-[1200px]text-center max-w-lg mx-auto space-y-4 items-center justify-center">
      <h5 class=" text-[32px]">생두를 투입해주세요!</h5>
      <div id="beanPuttingCounter"class="text-[200px] text-reonaiRed">0</div>
    </div>
    </div>






    <div id="roastPanel" style="display: none; margin: 0 auto; width: 100%" >
      <div id="roastPanelDiv" style= "height : 932px; width: 100%; ">
        <!--수신값 div-->


    
        
        <div id="custom-confirm" class="hidden fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50">
          <div class="bg-white rounded-lg p-6 shadow-lg text-center max-w-sm w-full">
            <p id="confirm-message" class="text-lg font-semibold mb-4"></p>
            <div class="flex justify-center space-x-4">
              <button id="confirm-yes" class="px-4 py-2 bg-green-500 text-white rounded hover:bg-green-600">예</button>
              <button id="confirm-no" class="px-4 py-2 bg-red-500 text-white rounded hover:bg-red-600">아니오</button>
            </div>
          </div>
        </div>
        




        <div id="mobileReceiveIndicator">  
          
          <div id="receiveIndicator" class="p-4 rounded-lg w-max flex flex-col gap-2">
            <!-- 시간 표시 -->
            <div id="timeIndicator" class="flex justify-end items-center gap-2">
              <label id=raostingTimeLabel class="text-xs font-bold">로스팅 시간:</label>
              <span class="text-sm font-extrabold text-gray-700" id="elapsedValue">-</span>
            </div>            
            <!-- 온도 및 데이터 표시 -->
            <div id="tempIndicator" class="flex flex-wrap items-center justify-between gap-2">
              <div id=temp1Div class="flex items-center gap-2">
                <label id=dtLabel class="text-sm text-gray-500">DT:</label>
                <div>
                <span id="temp1Value" class="text-xl font-bold text-green-500">00.00</span>
                <span id="cel1Label" class="text-xs">°C</span></div>
              </div>
              <div id=temp2div class="flex items-center gap-1">
                <label id=htLabel class="text-sm text-gray-500">HT:</label>
                <div>
                <span id="temp2Value" class="text-sm font-bold text-red-500">00.00</span>
                <span id="cel2Label" class="text-xs">°C</span></div>
              </div>
              <div id="ror1Div" class="flex items-center gap-1">
                <label id=ror1Label class="text-xs text-gray-500">∆DT min:</label>
                <span id="RoR1Value" class="text-xs font-bold text-blue-500">0.0</span>
              </div>
              <div id=ror2Div class="flex items-center gap-1">
                <label id=ror2Label class="text-xs text-gray-500">∆HT min:</label>
                <span id="RoR2Value" class="text-xs font-bold text-purple-500">0.0</span>
              </div>
            </div>
          </div>
          


        </div>
      
        <div id="chartContainer" style="height: 50vh; margin: 5px " >
                    <div id="chartdiv" style="height:70%"></div>
          <div id="outputChartdiv" style="height:30%"></div>
        </div>

        

        <div id = receiveIndicatorBox class="flex flex-col gap-2 font-base bg-reonaiBlack1 min-h-[calc(100vh-80px)] border-l-2 border-r-2 border-black" >    
          <div id="laptopReceiveIndicator"></div>
          <div id="controlBtnBox" class="p-2 flex gap-2 grid grid-cols-3 justify-center">
            <!-- <button onclick="stopHeatingMode()">예열 중지</button><p></p>
              <button onclick="heatingMode()">예열</button><p></p> -->

            <button class="inline-flex items-center h-btn-sm px-4 py-2 bg-reonaiRed text-white text-xs rounded  hover:bg-reonaiBlue transition-colors"  onclick="startRecordingCrackPoint()">
              크랙
            </button>
            
            <button class="inline-flex items-center h-btn-sm px-4 py-2 bg-reonaiRed text-white text-xs rounded  hover:bg-reonaiBlue transition-colors"id="CoolDowndBtn"
              >쿨다운</button>
          
              <button class="inline-flex items-center h-btn-sm px-4 py-2 bg-reonaiRed text-white text-xs rounded  hover:bg-reonaiBlue transition-colors"  id="disposeBtn"
              onclick="disposalMode()">배출</button>

          

              <button class="inline-flex items-center h-btn-sm px-4 py-2 bg-reonaiRed text-white text-xs rounded  hover:bg-reonaiBlue transition-colors"  id="recipeResetBtn"
              >레시피</button>


              <button class="inline-flex items-center h-btn-sm px-4 py-2 bg-reonaiRed text-white text-xs rounded  hover:bg-reonaiBlue transition-colors" 
              id="autoRoastingToggle" 
              onclick="toggleAutoRoasting()">
        AUTO
      </button>
      
      
      <div id="버튼숨김div" style="display: none;"> 
    <button class="inline-flex items-center h-btn-sm px-4 py-2 bg-reonaiRed text-white rounded hover:bg-reonaiBlue transition-colors"  onclick="stopRecordingCrackPoint()">크랙중지</button>
    <button class="inline-flex items-center h-btn-sm px-4 py-2 bg-reonaiRed text-white rounded hover:bg-reonaiBlue transition-colors" id="autoRoastingFlagOn"onclick="autoRoastingFlagOn(),autoRoastingStartFlagOn()">AUTO_on</button>
    <button class="inline-flex items-center h-btn-sm px-4 py-2 bg-reonaiRed text-white rounded hover:bg-reonaiBlue transition-colors"  id="autoRoastingFlagOff"onclick="autoRoastingFlagOff(),autoRoastingStartFlagOff()">AUTO_off</button>

    <button  class="inline-flex items-center h-btn-sm px-4 py-2 bg-reonaiRed text-white rounded hover:bg-reonaiBlue transition-colors"  id="startRecordingcharts"
      onclick="startRecordingcharts() ">startRec</button>
    <button class="inline-flex items-center h-btn-sm px-4 py-2 bg-reonaiRed text-white rounded hover:bg-reonaiBlue transition-colors"  id="stopRecordingcharts" onclick="stopRecordingcharts()">stopRec</button>
    <button class="inline-flex items-center h-btn-sm px-4 py-2 bg-reonaiRed text-white rounded hover:bg-reonaiBlue transition-colors"  id="doorTestMode" onclick="doorTestMode()">door</button>             
    <button class="inline-flex items-center h-btn-sm px-4 py-2 bg-reonaiRed text-white rounded hover:bg-reonaiBlue transition-colors" id="autoRoastingFlagOn" onclick="autoRoastingFlagOn(),autoRoastingStartFlagOn()">AUTO_on</button>
    <button class="inline-flex items-center h-btn-sm px-4 py-2 bg-reonaiRed text-white rounded hover:bg-reonaiBlue transition-colors"  id="autoRoastingFlagOff" onclick="autoRoastingFlagOff(),autoRoastingStartFlagOff()">AUTO_off</button>
    <button class="inline-flex items-center h-btn-sm px-4 py-2 bg-reonaiRed text-white rounded hover:bg-reonaiBlue transition-colors" id="autoRoastingFlagOff" onclick="chartLengthUpdate()">차트</button>
    <button class="inline-flex items-center h-btn-sm px-4 py-2 bg-reonaiRed text-white rounded hover:bg-reonaiBlue transition-colors"  id="windowfull">전체화면</button>
    <button class="inline-flex items-center h-btn-sm px-4 py-2 bg-reonaiRed text-white rounded hover:bg-reonaiBlue transition-colors"  id="crackBtn" onclick="RecipeWrite()">save</button> </div>
    </div>



          <!-- 출력제어 하는 부분 -->
          <div id="sliderSection " style="margin: 5px" class="p-2 flex gap-2 grid grid-cols-3 justify-center">

            <div id="fan1SliderContainer" class="sliderContainer space-y-4 flex flex-col">
              <!-- FAN1 Label and Buttons -->
              <div class="flex flex-col items-start w-full">
                <div class="text-primary text-[18px] font-medium flex items-center gap-2">
                  FAN 1
                  <span id="fan1Value" class="value-display" style="display: none;">0</span>
                </div>
                <div class="flex flex-col gap-2 mt-2">
                  <input 
                    type="number" 
                    id="fan1Number" 
                    min="30" 
                    max="100" 
                    value="30" 
                    step="0.5" 
                    class="w-full h-btn-sm px-2 py-1 text-center border rounded appearance-none"
                  />
                  <div class="flex gap-2">
                    <button id="fan1NumberBtn" style="display: none;" class="bg-white h-btn-sm px-3 py-1 text-[18px] border rounded">
                      GO
                    </button>
                    <button id="fan1PlusBtn" class="bg-white h-btn-sm px-3 py-1 text-[18px] border rounded">
                      +
                    </button>
                    <button id="fan1MinBtn" class="bg-white h-btn-sm px-3 py-1 text-[18px] border rounded">
                      -
                    </button>
                  </div>
                </div>
              </div>
            
              <!-- Input Field and Slider -->
              <div  style="display: none;" class="flex flex-col items-center gap-2">
                <input 
                  type="range" 
                  id="fan1Slider" 
                  min="30" 
                  max="100" 
                  value="0" 
                  step="0.5" 
                  class="w-full h-2 bg-gray-300 rounded-lg cursor-pointer"
                />
              </div>
            </div>
            
            <div id="HeaterSliderContainer" class="sliderContainer space-y-4 flex flex-col">
  <div class="flex flex-col items-start w-full">
    <div class="text-primary text-[18px] font-medium flex items-center gap-2">
      HEATER
      <span id="heaterValue" class="value-display" style="display: none;">0</span>
    </div>
    <div class="flex flex-col gap-2 mt-2">
      <input 
        type="number" 
        id="heaterNumber" 
        min="0" 
        max="100" 
        value="0" 
        step="0.5" 
        class="w-full h-btn-sm px-2 py-1 text-center border rounded appearance-none"
      />
      <div class="flex gap-2">
        <button id="heaterNumberBtn" style="display: none;" class="bg-white h-btn-sm px-3 py-1 text-[18px] border rounded">
          GO
        </button>
        <button id="heaterPlusBtn" class="bg-white h-btn-sm px-3 py-1 text-[18px] border rounded">
          +
        </button>
        <button id="heaterMinBtn" class="bg-white h-btn-sm px-3 py-1 text-[18px] border rounded">
          -
        </button>
      </div>
    </div>
  </div>
  <div class="flex flex-col items-center gap-2">
  <div class="flex flex-col items-center gap-2" style="display: none;">
    <input 
      type="range" 
      id="heaterSlider" 
      min="0" 
      max="100" 
      value="0" 
      step="0.5" 
      class="w-full h-2 bg-gray-300 rounded-lg cursor-pointer"
    />
  </div>
            </div>
          </div>
            <div id="fan2SliderContainer" class="sliderContainer space-y-4 flex flex-col">
  <div class="flex flex-col items-start w-full">
    <div class="text-primary text-[18px] font-medium flex items-center gap-2">
      FAN 2
      <span id="fan2Value" class="value-display" style="display: none;">0</span>
    </div>
    <div class="flex flex-col gap-2 mt-2">
      <input 
        type="number" 
        id="fan2Number" 
        min="2.5" 
        max="12.5" 
        value="2.5" 
        step="0.5" 
        class="w-full h-btn-sm px-2 py-1 text-center border rounded appearance-none"
      />
      <div class="flex gap-2">
        <button id="fan2NumberBtn" style="display: none;" class="bg-white h-btn-sm px-3 py-1 text-[18px] border rounded">
          GO
        </button>
        <button id="fan2PlusBtn" class="bg-white h-btn-sm px-3 py-1 text-[18px] border rounded">
          +
        </button>
        <button id="fan2MinBtn" class="bg-white h-btn-sm px-3 py-1 text-[18px] border rounded">
          -
        </button>
      </div>
    </div>
  </div>
  <div class="flex flex-col items-center gap-2" >
  <div class="flex flex-col items-center gap-2" style="display: none;">
    <input 
      type="range" 
      id="fan2Slider" 
      min="2.5" 
      max="12.5" 
      value="0" 
      step="0.5" 
      class="w-full h-2 bg-gray-300 rounded-lg cursor-pointer"
    />
  </div>
            </div>



<!-- Modal -->
<div id="keypadModal" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center">
  <div class="bg-white p-5 rounded-lg w-64">
  <!-- Current Value Display -->
   <div class="grid grid-cols-3 gap-2">
    <div id="keypadCurrentValueFan1" class="text-center text-xl font-bold mb-4">현재 값: 0</div>
    <div id="keypadCurrentValueHeater" class="text-center text-xl font-bold mb-4">현재 값: 0</div>
    <div id="keypadCurrentValueFan2" class="text-center text-xl font-bold mb-4">현재 값: 0</div>
  </div>
    <!-- Keypad -->
    <div class="grid grid-cols-3 gap-2">
      <button id='keyFan1'class="bg-reonaiWhite text-black py-2 rounded" data-value="">Fan1</button>
      <button id='keyHeater'class="bg-reonaiWhite text-black py-2 rounded" data-value="">Heater</button>
      <button id='keyFan2'class="bg-reonaiWhite text-black py-2 rounded" data-value="">Fan2</button>
      <button class="keypad-btn bg-gray-200 text-black py-2 rounded" data-value="1">1</button>
      <button class="keypad-btn bg-gray-200 text-black py-2 rounded" data-value="2">2</button>
      <button class="keypad-btn bg-gray-200 text-black py-2 rounded" data-value="3">3</button>
      <button class="keypad-btn bg-gray-200 text-black py-2 rounded" data-value="4">4</button>
      <button class="keypad-btn bg-gray-200 text-black py-2 rounded" data-value="5">5</button>
      <button class="keypad-btn bg-gray-200 text-black py-2 rounded" data-value="6">6</button>
      <button class="keypad-btn bg-gray-200 text-black py-2 rounded" data-value="7">7</button>
      <button class="keypad-btn bg-gray-200 text-black py-2 rounded" data-value="8">8</button>
      <button class="keypad-btn bg-gray-200 text-black py-2 rounded" data-value="9">9</button>
      <button class="keypad-btn bg-gray-200 text-black py-2 rounded" data-value="0">0</button>
      <button class="keypad-btn bg-gray-200 text-black py-2 rounded" data-value=".">.</button>
      
    </div>
    <div class="grid grid-cols-2 gap-2">
    <button id="keypadClear" class="bg-blue-400text-black py-2 rounded col-span-2">Clear</button>
    <button id="keypadExit" class="bg-red-200 text-black py-2 rounded col-span-2">X</button>
  </div>


    <!-- Submit Button -->
    <button id="keypadSubmit" class="bg-red-500 text-white py-2 mt-3 w-full rounded">입력</button>
  </div>

  
</div>



          </div>
        </div>


    
        


<!--정보를 보여주는 부분 -->
<div id="roastInfoIndicator" 
     class="p-6 rounded-2xl w-max flex flex-col gap-4 overflow-hidden">
  

  <!-- 제목 -->
  <!-- <h2 class="text-2xl font-bold text-gray-800 border-b pb-2">Roasting Info</h2> -->
  
  <!-- TP & CP 정보 -->
  <div id="tpcpIndicator" class="flex flex-col gap-4 rounded-lg ">
    <div id="tpIndicator" class="flex flex-col items-center justify-between bg-gray-100 p-3 rounded-md ">
      <div class="text-gray-600 font-extrabold text-2xl">TP</div>
      <div class="flex gap-4 text-gray-800">
        <span class="flex items-center gap-1">
          <span class="font-semibold text-xl">Time:</span> 
          <span id="TPtime" class="value-display text-xl">-</span>
        </span>
        <span class="flex items-center gap-1">
          <span class="font-semibold text-xl">Temp:</span> 
          <span id="TPtemp" class="value-display text-xl">-</span>
        </span>
      </div>
    </div>
    <div id="cpIndicator" class=" flex flex-col items-center justify-between bg-gray-100 p-3 rounded-md ">
      <div class="text-gray-600 font-extrabold text-2xl">CP</div>
      <div class="flex gap-4 text-gray-800">
        <span class="flex items-center gap-1">
          <span class="font-semibold text-xl">Time:</span> 
          <span id="CPtime" class="value-display">-</span>
        </span>
        <span class="flex items-center gap-1">
          <span class="font-semibold text-xl">Temp:</span> 
          <span id="CPtemp" class="value-display">-</span>
        </span>
      </div>
    </div>
  </div>

  <!-- 레시피 및 정보 -->
  <div id="roastInfoDetails" class="bg-gray-50 p-4 rounded-md">
    
    <div class="flex flex-col gap-2 mt-2 text-gray-800">
      <span class="flex items-center gap-2">
        <span class="font-semibold">Recipe:</span> 
        <span id="Recipe Name" class="value-display">-</span>
      </span>
      <span class="flex items-center gap-2">
        <span class="font-semibold">Bean:</span> 
        <span id="Bean Name" class="value-display">-</span>
      </span>
      <span class="flex items-center gap-2">
        <span class="font-semibold">Input:</span> 
        <span id="Input Amount" class="value-display">-</span>
      </span>
    </div>
  </div>
</div>



        </div>
      </div>
    
  </div>

<!-- roastPanel 끝-->



    <div id="easyRoastInfoPanel" style="display: none;" class="w-full bg-reonaiBlack1 align-items: center">
      <div
        class="panelBox bg-gray-900 p-6 rounded-lg w-[1200px]text-center max-w-lg mx-auto space-y-4 items-center justify-center">
        <h2 class="text-[32px] text-fontColor">REONAI </h2>
        <span class="text-[32px] text-fontColor "> 예열 <span class="text-[32px] text-reonaiRed"
            id="preheatPercentDisplayForEasyRaosting">0%</span></span>
        <div class="grid grid-cols-2 gap-2 space-x-4  items-center" id="selectedRecord">

          <button class="bg-reonaiWhite text-reonaiBlack1 rounded-sm w-[200px] h-30" id="ethiopiaBean">에티오피아
            내추럴</button>
          <button class="bg-reonaiWhite text-reonaiBlack1 rounded-sm w-[200px] h-30" id="colomniaBean">콜롬비아 워시드</button>



        </div>
        <div class="grid grid-cols-2 gap-2 space-x-4  " style="display: none;">
          <button class="bg-reonaiWhite text-reonaiBlack1 rounded-sm w-[200px] h-30" id="easyLightRoast">Light</button>
          <button class="bg-reonaiWhite text-reonaiBlack1 rounded-sm w-[200px] h-30" id="easyDarkRoast">Dark</button>

        </div>

        <div class="grid  space-x-4   ">

          <button class="bg-white rounded-sm w-[464px] text-[28px] h-16 text-brown-accent"
            id="autoRoastBtn">Start</button>
        </div>





      </div>
    </div>
    <div id="easyRoastPanel" style="display: none;" class="w-full bg-reonaiBlack1 align-items: center">
      <div
        class="panelBox bg-gray-900 p-6 rounded-lg w-[1200px]text-center max-w-lg mx-auto space-y-4 items-center justify-center">
        <div id="easyPreheatPercent">
          <span>Roasting</span>
          <span id="roastingDisplayForEasyRaosting" class="text-[32px]">0%</span>
        </div>
        <div class="flex" style="display: none;" >
          <div class="grid grid-rows-2 grid-flow-col gap-4">
            <div class="" ><strong>Elapsed Time</strong></div>
            <div class="text-[32px] text-reonaiRed"><span id="elapsedValueForEasy" class="value-display">-</span> s</div>
          
            <!-- <div class=""><strong>Drum</strong></div>
            <div class="text-white"> <span id="temp1Value" class="value-display">-</span> °C</div>
            <div class=""><strong>Heater</strong></div>
            <div class="text-white"><span id="temp2Value" class="value-display">-</span> °C </div> -->
          </div>
        </div>
        <div class="grid grid-cols-3 gap-2">
          <!-- <button class="bg-white rounded-sm w-[100px]" id="crackBtn"
            onclick="startRecordingCrackPoint()">Crack</button>
          <button class="bg-white rounded-sm w-[100px]" id="CoolDowndBtn" onclick="coolingMode()">CoolDown</button>
          <button class="bg-white rounded-sm w-[100px]" id="disposeBtn" onclick="disposalMode()">Disposal</button> -->
        </div>
    
        <button  class="bg-white rounded-sm w-[464px] text-[28px] h-16 text-brown-accent" id="disposeBtn"
        onclick="disposalMode()">배출</button>
        <button
          onclick="showPanel('mainPanel'),forceCoolingMode(),headerDisplayBlock(),autoRoastingFlagOff(),autoRoastingStartFlagOff()">go
          to main</button>

      </div>
    </div>
    <div id="settingPanel" style="display: none;">
      <h2>settingPanel</h2>
    </div>
    <div id="signInPanel" style="display: none;">
    
      <div class="login-card w-full rounded-lg shadow-lg p-6">
        <div class="login-card-content">
          <h1 class="text-3xl font-bold text-center mb-6" id="login-title">Sign In</h1>
          <form class="register-form space-y-4" id="register-form" onsubmit="return false;">
            
            <!-- Email Input -->
            <div class="flex items-center gap-2">
              <input
                class="flex-1 px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary bg-white"
                id="sign-up-email"
                type="email"
                placeholder="example@reonaicoffee.com"
                required
              />
              <button
                class="bg-primary text-white px-4 py-2 rounded-lg hover:bg-primary-dark transition"
                type="button"
                onclick="sendAuthCode()"
              >
                발송
              </button>
            </div>
            
            <!-- Authentication Code Input -->
            <div class="flex items-center gap-2">
              <input
                class="flex-1 px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary bg-white"
                id="email-auth-code"
                type="text"
                placeholder="000000"
                required
              />
              <button
                class="bg-primary text-white px-4 py-2 rounded-lg hover:bg-primary-dark transition"
                type="button"
                onclick="verifyAuthCode()"
              >
                인증
              </button>
            </div>
            
            <!-- First Name Input -->
            <input
              class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary bg-white"
              id="sign-up-first-name"
              type="text"
              placeholder="First Name"
              required
            />
            
            <!-- Last Name Input -->
            <input
              class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary bg-white"
              id="sign-up-last-name"
              type="text"
              placeholder="Last Name"
              required
            />
            
            <!-- Password Input -->
            <input
              class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary bg-white"
              id="sign-up-password"
              type="password"
              placeholder="Password"
              required
            />
            
            <!-- Confirm Password Input -->
            <input
              class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary bg-white"
              id="sign-up-confirm-password"
              type="password"
              placeholder="Confirm Password"
              required
            />
            
            <!-- Serial Number Input -->
            <input
              class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary bg-white"
              id="sign-up-roasterSn"
              type="text"
              placeholder="Serial Number"
              required
            />
            
            <!-- Sign Up Button -->
            <button
              class="w-full bg-primary text-white px-4 py-2 rounded-lg hover:bg-primary-dark transition "
              type="button"
              onclick="signUp()"
            >
              SIGN UP
            </button>
          </form>
        </div>
      </div>
      
          
        



  <script src="https://code.highcharts.com/highcharts.js"></script>
  <script src="https://code.highcharts.com/modules/series-label.js"></script>
  <script src="https://code.highcharts.com/modules/exporting.js"></script>
  <script src="https://code.highcharts.com/modules/export-data.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.1/jquery.min.js"></script>
  <script src="js/reonaiRoasting.js"></script>
  <script src="js/reonaiBLEtoIO.js"></script>
  <script src="js/reonaiData.js"></script>
  <script src="js/panel.js"></script>
  <script src="js/charts.js"></script>


  <script> //window 이벤트 모음

    window.addEventListener('beforeunload', function (event) {
      // 브라우저에 따라 다르게 동작할 수 있음
      event.preventDefault();
      // 확인 메시지를 사용자에게 보여줌
      event.returnValue = '페이지를 나가시면, 모든 로스팅이 지됩니다.';
    });
    
    
    
    </script>
</body>

</html>